/**
 * BackTrack Theme Overrides
 * Works with body.light-theme class for manual toggle
 * Professional blue accent color scheme
 */

/* ============================================
   DARK MODE (Default)
   ============================================ */
:root {
    --accent-primary: #2563eb;
    --accent-secondary: #06b6d4;
}

body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: #000000;
    color: #f5f5f5;
}

nav {
    background: rgba(0, 0, 0, 0.85);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
}

.nav-link {
    color: rgba(255, 255, 255, 0.6);
}

.nav-link:hover {
    color: #2563eb !important;
}

.nav-link.active {
    color: #2563eb !important;
}

/* Hero Section - Blue gradient titles */
.hero-title,
.features-title,
.stats-title,
.section-title {
    background: linear-gradient(135deg, #2563eb 0%, #06b6d4 50%, #2563eb 100%) !important;
    -webkit-background-clip: text !important;
    -webkit-text-fill-color: transparent !important;
    background-clip: text !important;
}

.hero-tag,
.features-label {
    color: #2563eb !important;
}

/* Primary Buttons - Blue */
.btn-primary,
.primary-btn,
.submit-btn,
.claim-card-btn {
    background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%) !important;
    border: none !important;
    color: #ffffff !important;
    box-shadow: 0 4px 20px rgba(37, 99, 235, 0.3) !important;
}

.btn-primary:hover,
.primary-btn:hover,
.submit-btn:hover,
.claim-card-btn:hover {
    background: linear-gradient(135deg, #1d4ed8 0%, #1e40af 100%) !important;
    box-shadow: 0 8px 30px rgba(37, 99, 235, 0.4) !important;
}

/* Secondary Button - Visible in dark mode */
.btn-secondary,
.secondary-btn {
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
    background: transparent !important;
    color: #ffffff !important;
}

.btn-secondary:hover,
.secondary-btn:hover {
    background: rgba(255, 255, 255, 0.1) !important;
    border-color: rgba(255, 255, 255, 0.5) !important;
}

/* Sign In Button - Blue */
.sign-in-btn {
    background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%) !important;
    border: none !important;
    color: #ffffff !important;
    box-shadow: 0 4px 16px rgba(37, 99, 235, 0.3) !important;
}

.sign-in-btn:hover {
    background: linear-gradient(135deg, #1d4ed8 0%, #1e40af 100%) !important;
    box-shadow: 0 8px 24px rgba(37, 99, 235, 0.4) !important;
}

/* Hero Visual - Dark mode */
.hero-visual {
    background: transparent;
    border: none;
    box-shadow: none;
}

/* Chatbot - Blue */
.chatbot-toggle {
    background: linear-gradient(145deg, #2563eb 0%, #1d4ed8 100%) !important;
    border-color: rgba(37, 99, 235, 0.3) !important;
    box-shadow: 0 8px 32px rgba(37, 99, 235, 0.3) !important;
}

.chatbot-send {
    background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%) !important;
    color: #fff !important;
}

/* AI Match Badge - Blue gradient */
.ai-match-badge {
    background: linear-gradient(135deg, rgba(37, 99, 235, 0.9) 0%, rgba(6, 182, 212, 0.9) 100%) !important;
    color: #fff !important;
}

/* Feature numbers - Blue */
.feature-number {
    color: #2563eb !important;
}

/* ============================================
   LIGHT MODE (body.light-theme)
   ============================================ */
body.light-theme {
    background: #f8fafc !important;
    color: #0f172a !important;
}

body.light-theme nav {
    background: rgba(255, 255, 255, 0.92) !important;
    backdrop-filter: blur(12px) !important;
    -webkit-backdrop-filter: blur(12px) !important;
    border-bottom: 1px solid rgba(0, 0, 0, 0.06) !important;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05) !important;
}

body.light-theme nav::after {
    background: transparent !important;
}

/* Logo - Make dark for light mode */
body.light-theme .nav-left {
    background: transparent !important;
}

body.light-theme .nav-left img {
    filter: brightness(0) saturate(100%) !important;
    /* Makes logo solid black/dark for light backgrounds */
}

/* Brand logo swap (dark/light assets) */
.brand-logo {
    display: inline-flex;
    align-items: center;
    gap: 0;
}

.brand-logo img {
    display: block;
    width: auto;
}

.brand-logo .logo-light {
    display: none;
}

body.light-theme .brand-logo .logo-dark {
    display: none;
}

body.light-theme .brand-logo .logo-light {
    display: block;
}

/* Do not filter swapped logo assets */
body.light-theme .brand-logo img {
    filter: none !important;
}

/* Neutral heading colors (no gradients) */
body:not(.light-theme) .hero-title,
body:not(.light-theme) .features-title,
body:not(.light-theme) .stats-title,
body:not(.light-theme) .page-title {
    color: #f8fafc !important;
    background: none !important;
    -webkit-text-fill-color: #f8fafc !important;
}

body:not(.light-theme) .hero-description,
body:not(.light-theme) .features-subtitle,
body:not(.light-theme) .stats-subtitle,
body:not(.light-theme) .feature-description,
body:not(.light-theme) p {
    color: #f8fafc !important;
}

body:not(.light-theme) .nav-link {
    color: #f8fafc !important;
}

body.light-theme .hero-title,
body.light-theme .features-title,
body.light-theme .stats-title,
body.light-theme .page-title {
    color: #0f172a !important;
    background: none !important;
    -webkit-text-fill-color: #0f172a !important;
}

body.light-theme .hero-description,
body.light-theme .features-subtitle,
body.light-theme .stats-subtitle,
body.light-theme .feature-description,
body.light-theme p {
    color: #0f172a !important;
}

body.light-theme .nav-link {
    color: #0f172a !important;
}

body.light-theme .nav-link {
    color: #475569 !important;
}

body.light-theme .nav-link:hover {
    color: #2563eb !important;
}

body.light-theme .nav-link.active {
    color: #2563eb !important;
}

/* Hero Title - Still blue gradient in light mode */
body.light-theme .hero-title,
body.light-theme .features-title,
body.light-theme .stats-title {
    background: linear-gradient(135deg, #1e40af 0%, #0891b2 50%, #1e40af 100%) !important;
    -webkit-background-clip: text !important;
    -webkit-text-fill-color: transparent !important;
    background-clip: text !important;
}

body.light-theme .hero-description,
body.light-theme p {
    color: #475569 !important;
}

/* Hero Visual - Fully seamless with page background */
body.light-theme .hero-visual {
    background: transparent !important;
    border-radius: 0 !important;
    border: none !important;
    box-shadow: none !important;
    outline: none !important;
}

/* Canvas in light mode - native dark colors, no filters needed */
body.light-theme .hero-visual canvas {
    filter: none !important;
    opacity: 1 !important;
}

/* Secondary Button - Clean look in light mode */
body.light-theme .btn-secondary,
body.light-theme .secondary-btn {
    color: #2563eb !important;
    border: none !important;
    background: rgba(37, 99, 235, 0.08) !important;
}

body.light-theme .btn-secondary:hover,
body.light-theme .secondary-btn:hover {
    background: rgba(37, 99, 235, 0.15) !important;
    color: #1d4ed8 !important;
    text-decoration: none !important;
}

/* Cards in light mode */
body.light-theme .card,
body.light-theme .source-card,
body.light-theme .item-card,
body.light-theme .feature-card,
body.light-theme .stat-card,
body.light-theme .form-card,
body.light-theme .feature-visual {
    background: #ffffff !important;
    color: #0f172a !important;
    border-color: rgba(0, 0, 0, 0.06) !important;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06) !important;
}

body.light-theme .item-card:hover,
body.light-theme .stat-card:hover {
    box-shadow: 0 8px 24px rgba(37, 99, 235, 0.12) !important;
    border-color: rgba(37, 99, 235, 0.2) !important;
}

/* Form inputs */
body.light-theme input,
body.light-theme textarea,
body.light-theme select,
body.light-theme .form-input,
body.light-theme .chatbot-input {
    background: #ffffff !important;
    border-color: #e2e8f0 !important;
    color: #0f172a !important;
}

body.light-theme input:focus,
body.light-theme textarea:focus,
body.light-theme select:focus {
    border-color: #2563eb !important;
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1) !important;
}

body.light-theme input::placeholder,
body.light-theme textarea::placeholder {
    color: #94a3b8 !important;
}

/* Sidebar & Filters */
body.light-theme .sidebar,
body.light-theme .filter-section {
    background: #ffffff !important;
    border-color: rgba(0, 0, 0, 0.06) !important;
}

body.light-theme .filter-label,
body.light-theme .checkbox-label {
    color: #475569 !important;
}

body.light-theme .filter-option,
body.light-theme .tag,
body.light-theme .feature-tag {
    background: #f1f5f9 !important;
    color: #475569 !important;
    border-color: #e2e8f0 !important;
}

body.light-theme .filter-option:hover,
body.light-theme .tag:hover,
body.light-theme .feature-tag:hover {
    background: #e2e8f0 !important;
    color: #0f172a !important;
}

body.light-theme .filter-option.active {
    background: rgba(37, 99, 235, 0.1) !important;
    border-color: #2563eb !important;
    color: #2563eb !important;
}

/* Footer */
body.light-theme footer {
    background: #f1f5f9 !important;
    border-top-color: rgba(0, 0, 0, 0.06) !important;
}

body.light-theme footer a {
    color: #475569 !important;
}

body.light-theme footer a:hover {
    color: #2563eb !important;
}

/* Stat values */
body.light-theme .stat-value {
    color: #0f172a !important;
}

body.light-theme .stat-label {
    color: #64748b !important;
}

/* Feature sections */
body.light-theme .features-showcase {
    background: #f8fafc !important;
}

body.light-theme .feature-heading {
    color: #0f172a !important;
}

body.light-theme .feature-description {
    color: #475569 !important;
}

body.light-theme .features-label {
    color: #2563eb !important;
}

body.light-theme .features-subtitle,
body.light-theme .stats-subtitle {
    color: #64748b !important;
}

/* Mockup elements in light mode */
body.light-theme .mockup-sidebar {
    background: #f1f5f9 !important;
}

body.light-theme .mockup-card,
body.light-theme .mockup-search-bar,
body.light-theme .mockup-input,
body.light-theme .mockup-select,
body.light-theme .mockup-textarea {
    background: #ffffff !important;
    border-color: #e2e8f0 !important;
}

body.light-theme .mockup-line,
body.light-theme .mockup-sidebar-text {
    background: #e2e8f0 !important;
}

body.light-theme .mockup-card-image {
    background: linear-gradient(135deg, #e2e8f0 0%, #f1f5f9 100%) !important;
}

/* Chatbot in light mode */
body.light-theme .chatbot-panel {
    background: #ffffff !important;
    border-color: rgba(0, 0, 0, 0.1) !important;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15) !important;
}

body.light-theme .chatbot-header {
    background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%) !important;
}

body.light-theme .chatbot-messages {
    background: #f8fafc !important;
}

body.light-theme .chatbot-message {
    background: #ffffff !important;
    color: #0f172a !important;
}

body.light-theme .chatbot-message.user {
    background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%) !important;
    color: #ffffff !important;
}

body.light-theme .chatbot-footer {
    border-top-color: #e2e8f0 !important;
}

body.light-theme .chatbot-hint,
body.light-theme .chatbot-status {
    color: #64748b !important;
}

/* Mobile menu */
body.light-theme .mobile-menu {
    background: rgba(255, 255, 255, 0.98) !important;
}

body.light-theme .mobile-menu a {
    color: #0f172a !important;
    border-color: #e2e8f0 !important;
}

body.light-theme .hamburger span {
    background: #0f172a !important;
}

/* Page transition */
body.light-theme .page-transition {
    background: #f8fafc !important;
}

/* Item info in cards */
body.light-theme .item-name {
    color: #0f172a !important;
}

body.light-theme .item-date,
body.light-theme .item-location {
    color: #64748b !important;
}

/* Accessibility panel */
body.light-theme .a11y-panel {
    background: #ffffff !important;
    border-color: #e2e8f0 !important;
}

body.light-theme .a11y-label {
    color: #0f172a !important;
}

body.light-theme .a11y-toggle,
body.light-theme #scroll-to-top {
    background: #ffffff !important;
    border-color: #e2e8f0 !important;
    color: #475569 !important;
}

/* Share section (claim page) */
body.light-theme .share-section,
body.light-theme .item-detail {
    background: #ffffff !important;
    border-color: #e2e8f0 !important;
}

body.light-theme .share-url {
    background: #f1f5f9 !important;
    color: #475569 !important;
}

body.light-theme .share-btn {
    background: #f1f5f9 !important;
    border-color: #e2e8f0 !important;
    color: #475569 !important;
}

body.light-theme .share-btn:hover {
    background: #e2e8f0 !important;
    color: #0f172a !important;
}

/* Auth pages */
body.light-theme .auth-card,
body.light-theme .login-card,
body.light-theme .signup-card {
    background: #ffffff !important;
    border-color: #e2e8f0 !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08) !important;
}

/* Skip to content */
body.light-theme .skip-to-main {
    background: #2563eb !important;
    color: #ffffff !important;
}

/* PWA Install button still green for contrast */
body.light-theme #pwa-install-btn {
    background: linear-gradient(145deg, #22c55e 0%, #16a34a 100%) !important;
    color: #ffffff !important;
}

/* ============================================
   PROFILE PAGE - Light Mode
   ============================================ */
body.light-theme .profile-container {
    background: #f8fafc !important;
}

body.light-theme .profile-header {
    border-bottom-color: #e2e8f0 !important;
}

body.light-theme .profile-avatar {
    background: linear-gradient(135deg, #e2e8f0 0%, #cbd5e1 100%) !important;
    border-color: #cbd5e1 !important;
    color: #475569 !important;
}

body.light-theme .profile-name {
    color: #0f172a !important;
}

body.light-theme .profile-email {
    color: #64748b !important;
}

body.light-theme .profile-joined {
    color: #94a3b8 !important;
}

body.light-theme .stat-number {
    background: linear-gradient(180deg, #0f172a 0%, #334155 100%) !important;
    -webkit-background-clip: text !important;
    -webkit-text-fill-color: transparent !important;
    background-clip: text !important;
}

body.light-theme .tabs {
    border-bottom-color: #e2e8f0 !important;
}

body.light-theme .tab {
    color: #64748b !important;
}

body.light-theme .tab:hover {
    color: #0f172a !important;
    background: #f1f5f9 !important;
}

body.light-theme .tab.active {
    color: #0f172a !important;
    background: #e2e8f0 !important;
}

body.light-theme .section-title {
    color: #0f172a !important;
}

body.light-theme .section-action {
    color: #2563eb !important;
}

body.light-theme .section-action:hover {
    color: #1d4ed8 !important;
}

body.light-theme .item-image {
    background: #f1f5f9 !important;
    color: #94a3b8 !important;
}

body.light-theme .item-content {
    background: transparent !important;
}

body.light-theme .item-title {
    color: #0f172a !important;
}

body.light-theme .item-meta {
    color: #64748b !important;
}

body.light-theme .form-label {
    color: #0f172a !important;
}

body.light-theme .form-input {
    background: #ffffff !important;
    border-color: #e2e8f0 !important;
    color: #0f172a !important;
}

body.light-theme .form-input:focus {
    border-color: #2563eb !important;
    background: #ffffff !important;
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1) !important;
}

body.light-theme .btn-save {
    background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%) !important;
    border: none !important;
    color: #ffffff !important;
}

body.light-theme .btn-save:hover {
    background: linear-gradient(135deg, #1d4ed8 0%, #1e40af 100%) !important;
}

body.light-theme .danger-zone {
    border-top-color: rgba(239, 68, 68, 0.2) !important;
}

body.light-theme .empty-state {
    color: #94a3b8 !important;
}

body.light-theme .empty-state a {
    color: #2563eb !important;
}

body.light-theme .not-logged-in h2 {
    color: #0f172a !important;
}

body.light-theme .not-logged-in p {
    color: #64748b !important;
}

body.light-theme .not-logged-in a {
    background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%) !important;
    border: none !important;
    color: #ffffff !important;
}

body.light-theme .sign-out-btn {
    color: #64748b !important;
    border-color: #e2e8f0 !important;
}

body.light-theme .sign-out-btn:hover {
    color: #0f172a !important;
    border-color: #cbd5e1 !important;
    background: #f8fafc !important;
}

/* ============================================
   ADMIN PAGE - Light Mode
   ============================================ */
body.light-theme .page-header h1 {
    color: #0f172a !important;
}

body.light-theme .page-header p {
    color: #64748b !important;
}

body.light-theme .stats-grid .stat-card {
    background: #ffffff !important;
    border-color: #e2e8f0 !important;
}

body.light-theme .stat-label {
    color: #64748b !important;
}

body.light-theme .admin-status {
    background: rgba(239, 68, 68, 0.08) !important;
    border-color: rgba(239, 68, 68, 0.2) !important;
}

body.light-theme .section-count {
    background: #f1f5f9 !important;
    color: #64748b !important;
}

body.light-theme .review-card {
    background: #ffffff !important;
    border-color: #e2e8f0 !important;
}

body.light-theme .review-card:hover {
    border-color: #cbd5e1 !important;
}

body.light-theme .card-title {
    color: #0f172a !important;
}

body.light-theme .card-meta {
    color: #64748b !important;
}

body.light-theme .card-proof {
    background: #f8fafc !important;
    color: #475569 !important;
}

body.light-theme .card-proof strong {
    color: #0f172a !important;
}

body.light-theme .btn-approve {
    background: #22c55e !important;
    color: #052e16 !important;
}

body.light-theme .loading {
    color: #64748b !important;
}

/* ============================================
   MAP PAGE - Light Mode
   ============================================ */
body.light-theme .main-container {
    background: #f8fafc !important;
}

body.light-theme .sidebar {
    background: #ffffff !important;
    border-right-color: #e2e8f0 !important;
}

body.light-theme .sidebar-title {
    color: #64748b !important;
}

body.light-theme .item-count {
    background: #f1f5f9 !important;
    color: #64748b !important;
}

body.light-theme .location-btn {
    background: #f8fafc !important;
    border-color: #e2e8f0 !important;
    color: #64748b !important;
}

body.light-theme .location-btn:hover {
    background: #f1f5f9 !important;
    border-color: #cbd5e1 !important;
    color: #0f172a !important;
}

body.light-theme .location-btn.active {
    background: #e0f2fe !important;
    border-color: #2563eb !important;
    color: #0f172a !important;
}

body.light-theme .location-name {
    color: inherit !important;
}

body.light-theme .location-items {
    color: #94a3b8 !important;
}

body.light-theme .location-btn.active .location-items {
    color: #64748b !important;
}

body.light-theme .item-mini-card {
    background: #f8fafc !important;
    border-color: #e2e8f0 !important;
}

body.light-theme .item-mini-card:hover {
    background: #f1f5f9 !important;
    border-color: #cbd5e1 !important;
}

body.light-theme .item-mini-card.active {
    background: #e0f2fe !important;
    border-color: rgba(37, 99, 235, 0.3) !important;
}

body.light-theme .item-mini-img {
    background: #e2e8f0 !important;
}

body.light-theme .item-mini-name {
    color: #0f172a !important;
}

body.light-theme .item-mini-location {
    color: #64748b !important;
}

body.light-theme .map-container {
    background: #f1f5f9 !important;
}

body.light-theme .map-control-btn {
    background: rgba(255, 255, 255, 0.95) !important;
    border-color: #e2e8f0 !important;
}

body.light-theme .map-control-btn:hover {
    background: #ffffff !important;
    border-color: #cbd5e1 !important;
}

body.light-theme .map-control-btn svg {
    color: #475569 !important;
}

body.light-theme .map-control-btn:hover svg {
    color: #0f172a !important;
}

body.light-theme .floor-selector {
    background: rgba(255, 255, 255, 0.95) !important;
    border-color: #e2e8f0 !important;
}

body.light-theme .floor-btn {
    color: #64748b !important;
}

body.light-theme .floor-btn:hover {
    color: #0f172a !important;
    background: #f1f5f9 !important;
}

body.light-theme .floor-btn.active {
    background: #e0f2fe !important;
    color: #1e40af !important;
}

body.light-theme .view-toggle {
    background: rgba(255, 255, 255, 0.95) !important;
    border-color: #e2e8f0 !important;
}

body.light-theme .view-toggle span {
    color: #94a3b8 !important;
}

body.light-theme .view-toggle a {
    color: #475569 !important;
}

body.light-theme .view-toggle a.active {
    color: #0f172a !important;
}

body.light-theme .item-detail-panel {
    background: rgba(255, 255, 255, 0.98) !important;
    border-color: #e2e8f0 !important;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1) !important;
}

body.light-theme .detail-close {
    background: #f1f5f9 !important;
}

body.light-theme .detail-close:hover {
    background: #e2e8f0 !important;
}

body.light-theme .detail-close svg {
    color: #475569 !important;
}

body.light-theme .detail-image {
    background: #f1f5f9 !important;
}

body.light-theme .detail-category {
    background: #f1f5f9 !important;
    color: #64748b !important;
}

body.light-theme .detail-name {
    color: #0f172a !important;
}

body.light-theme .detail-meta-item {
    color: #64748b !important;
}

body.light-theme .detail-description {
    color: #475569 !important;
}

body.light-theme .detail-btn {
    background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%) !important;
    color: #ffffff !important;
    box-shadow: 0 4px 16px rgba(37, 99, 235, 0.3) !important;
}

body.light-theme .detail-btn:hover {
    box-shadow: 0 8px 24px rgba(37, 99, 235, 0.4) !important;
}

body.light-theme .pin-popup {
    background: rgba(255, 255, 255, 0.98) !important;
    border-color: #e2e8f0 !important;
}

body.light-theme .pin-popup::after {
    border-top-color: rgba(255, 255, 255, 0.98) !important;
}

body.light-theme .popup-title {
    color: #0f172a !important;
}

body.light-theme .popup-count {
    color: #64748b !important;
}

/* Map SVG elements in light mode */
body.light-theme .school-map svg rect[fill="url(#grid)"]+rect {
    fill: rgba(0, 0, 0, 0.02) !important;
    stroke: rgba(0, 0, 0, 0.1) !important;
}

body.light-theme .school-map svg text {
    fill: rgba(0, 0, 0, 0.4) !important;
}

/* ============================================
   GLOBAL TEXT OVERRIDES
   ============================================ */
body.light-theme h1,
body.light-theme h2,
body.light-theme h3,
body.light-theme h4,
body.light-theme h5,
body.light-theme h6 {
    color: #0f172a !important;
}

body.light-theme strong {
    color: #0f172a !important;
}

/* Spinner in light mode */
body.light-theme .spinner {
    border-color: #e2e8f0 !important;
    border-top-color: #2563eb !important;
}

/* ============================================
   HERO SECTION â€” ALWAYS DARK (even in light mode)
   The Spline 3D model has a dark/space background,
   so the hero must stay dark for visual consistency.
   ============================================ */
body.light-theme .hero-container {
    background: #000000 !important;
}

body.light-theme .hero-title {
    color: #f8fafc !important;
    background: none !important;
    -webkit-text-fill-color: #f8fafc !important;
}

body.light-theme .hero-description {
    color: rgba(255, 255, 255, 0.75) !important;
}

body.light-theme .hero-container .btn-primary {
    background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%) !important;
    color: #ffffff !important;
    border: none !important;
    box-shadow: 0 4px 20px rgba(37, 99, 235, 0.3) !important;
}

body.light-theme .hero-container .btn-secondary {
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
    background: transparent !important;
    color: #ffffff !important;
}

body.light-theme .hero-container .btn-secondary:hover {
    background: rgba(255, 255, 255, 0.1) !important;
    border-color: rgba(255, 255, 255, 0.5) !important;
}

body.light-theme .hero-visual::after {
    background:
        radial-gradient(138% 120% at 60% 50%, rgba(0, 0, 0, 0) 40%, rgba(4, 10, 24, 0.44) 64%, rgba(4, 8, 18, 0.78) 82%, rgba(4, 8, 18, 0.92) 100%),
        linear-gradient(90deg, rgba(4, 8, 18, 0.66) 0%, rgba(4, 8, 18, 0.2) 10%, rgba(4, 8, 18, 0) 24%, rgba(4, 8, 18, 0) 76%, rgba(4, 8, 18, 0.2) 90%, rgba(4, 8, 18, 0.66) 100%),
        linear-gradient(180deg, rgba(4, 8, 18, 0.72) 0%, rgba(4, 8, 18, 0.26) 10%, rgba(4, 8, 18, 0) 24%, rgba(4, 8, 18, 0) 76%, rgba(4, 8, 18, 0.26) 90%, rgba(4, 8, 18, 0.72) 100%) !important;
}

/* ============================================
   DARK MODE REFRESH + UI GLITCH FIXES
   ============================================ */
:root {
    --bg-primary: #050811;
    --bg-secondary: #0a1020;
    --bg-tertiary: #111a2d;
    --bg-elevated: #121c30;
    --bg-card: #0f1729;

    --text-primary: #e7eef9;
    --text-secondary: #b2bfd2;
    --text-tertiary: #8c9ab0;
    --text-muted: #6f7e97;

    --border-subtle: rgba(148, 163, 184, 0.14);
    --border-default: rgba(148, 163, 184, 0.2);
    --border-strong: rgba(148, 163, 184, 0.3);
}

html,
body {
    max-width: 100%;
    overflow-x: clip;
}

body {
    scrollbar-gutter: stable;
}

img,
video,
canvas,
svg {
    max-width: 100%;
}

body:not(.light-theme) {
    background:
        radial-gradient(1100px 560px at 8% -6%, rgba(30, 64, 175, 0.14) 0%, transparent 62%),
        radial-gradient(980px 560px at 92% -10%, rgba(14, 116, 144, 0.1) 0%, transparent 60%),
        linear-gradient(180deg, #04070f 0%, #040712 58%, #03070f 100%) !important;
    color: var(--text-primary) !important;
}

body:not(.light-theme) nav {
    background: linear-gradient(180deg, rgba(0, 0, 0, 0.96) 0%, rgba(0, 0, 0, 0.9) 72%, rgba(0, 0, 0, 0.78) 100%) !important;
    backdrop-filter: blur(12px) saturate(118%);
    -webkit-backdrop-filter: blur(12px) saturate(118%);
    border-bottom: 1px solid rgba(148, 163, 184, 0.08) !important;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.34) !important;
}

body:not(.light-theme) nav::after {
    background: linear-gradient(90deg, rgba(255, 255, 255, 0), rgba(148, 163, 184, 0.18), rgba(255, 255, 255, 0)) !important;
    opacity: 0.45 !important;
}

body:not(.light-theme).nav-scrolled nav {
    background: linear-gradient(180deg, rgba(0, 0, 0, 0.99) 0%, rgba(0, 0, 0, 0.94) 72%, rgba(0, 0, 0, 0.82) 100%) !important;
    box-shadow: 0 12px 32px rgba(0, 0, 0, 0.44) !important;
}

body:not(.light-theme) .features-showcase,
body:not(.light-theme) .stats-section,
body:not(.light-theme) .main-content,
body:not(.light-theme) .main-container {
    background: transparent !important;
}

body:not(.light-theme) .card,
body:not(.light-theme) .form-card,
body:not(.light-theme) .item-card,
body:not(.light-theme) .source-card,
body:not(.light-theme) .feature-card,
body:not(.light-theme) .stat-card,
body:not(.light-theme) .browser-window,
body:not(.light-theme) .sidebar,
body:not(.light-theme) .auth-card,
body:not(.light-theme) .login-card,
body:not(.light-theme) .signup-card,
body:not(.light-theme) .review-card,
body:not(.light-theme) .chatbot-panel,
body:not(.light-theme) .user-dropdown,
body:not(.light-theme) .item-detail-panel,
body:not(.light-theme) .pin-popup,
body:not(.light-theme) .share-section,
body:not(.light-theme) .item-detail {
    background: linear-gradient(160deg, rgba(15, 23, 42, 0.82) 0%, rgba(7, 12, 24, 0.9) 100%) !important;
    border: 1px solid rgba(148, 163, 184, 0.2) !important;
    box-shadow: 0 16px 36px rgba(2, 6, 23, 0.38) !important;
}

body:not(.light-theme) input,
body:not(.light-theme) textarea,
body:not(.light-theme) select,
body:not(.light-theme) .form-input,
body:not(.light-theme) .chatbot-input,
body:not(.light-theme) .search-input,
body:not(.light-theme) .search-box {
    background: rgba(15, 23, 42, 0.62) !important;
    border-color: rgba(148, 163, 184, 0.28) !important;
    color: #e7eef9 !important;
}

body:not(.light-theme) input::placeholder,
body:not(.light-theme) textarea::placeholder,
body:not(.light-theme) .form-input::placeholder,
body:not(.light-theme) .chatbot-input::placeholder {
    color: #93a4bc !important;
}

body:not(.light-theme) input:focus,
body:not(.light-theme) textarea:focus,
body:not(.light-theme) select:focus,
body:not(.light-theme) .form-input:focus,
body:not(.light-theme) .chatbot-input:focus {
    border-color: rgba(96, 165, 250, 0.7) !important;
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.22) !important;
}

body:not(.light-theme) .sign-in-btn,
body:not(.light-theme) .btn-secondary,
body:not(.light-theme) .secondary-btn {
    background: rgba(15, 23, 42, 0.72) !important;
    border: 1px solid rgba(148, 163, 184, 0.3) !important;
    color: #e7eef9 !important;
    box-shadow: 0 8px 20px rgba(2, 6, 23, 0.25) !important;
}

body:not(.light-theme) .sign-in-btn:hover,
body:not(.light-theme) .btn-secondary:hover,
body:not(.light-theme) .secondary-btn:hover {
    background: rgba(30, 41, 59, 0.86) !important;
    border-color: rgba(96, 165, 250, 0.6) !important;
}

body:not(.light-theme) .hero-description,
body:not(.light-theme) .features-subtitle,
body:not(.light-theme) .stats-subtitle,
body:not(.light-theme) .feature-description,
body:not(.light-theme) p {
    color: var(--text-secondary) !important;
}

body:not(.light-theme) .page-transition {
    background: #050811 !important;
}

@media (max-width: 900px) {
    nav {
        padding: 0 18px !important;
    }

    .nav-center {
        gap: 22px !important;
    }
}

@media (max-width: 640px) {
    .chatbot-widget {
        right: 14px !important;
        bottom: 14px !important;
    }

    .chatbot-panel {
        width: min(92vw, 340px) !important;
        right: 0 !important;
    }

    .user-dropdown {
        right: -4px !important;
        min-width: 165px;
    }
}

/* ============================================
   CROSS-PAGE MINIMAL REFINEMENTS (DARK MODE)
   ============================================ */
body:not(.light-theme) .login-container,
body:not(.light-theme) .signup-container,
body:not(.light-theme) .profile-container,
body:not(.light-theme) .container,
body:not(.light-theme) .main-content,
body:not(.light-theme) .scan-container,
body:not(.light-theme) .dashboard,
body:not(.light-theme) .filters,
body:not(.light-theme) .rewards-section,
body:not(.light-theme) .features-section,
body:not(.light-theme) .hero {
    color: var(--text-primary) !important;
}

body:not(.light-theme) .login-card,
body:not(.light-theme) .signup-card,
body:not(.light-theme) .scan-container,
body:not(.light-theme) .offline-container,
body:not(.light-theme) .source-card,
body:not(.light-theme) .form-card,
body:not(.light-theme) .item-detail,
body:not(.light-theme) .stat-card,
body:not(.light-theme) .item-card,
body:not(.light-theme) .dash-kpi,
body:not(.light-theme) .dash-actions-card,
body:not(.light-theme) .dash-recent-card,
body:not(.light-theme) .chart-card,
body:not(.light-theme) .compose-card,
body:not(.light-theme) .templates-card,
body:not(.light-theme) .review-card,
body:not(.light-theme) .reward-stat-card,
body:not(.light-theme) .reward-editor-card,
body:not(.light-theme) .reward-catalog-card,
body:not(.light-theme) .analytics-stat-card,
body:not(.light-theme) .sent-msg-card,
body:not(.light-theme) .users-table-wrap,
body:not(.light-theme) .vault-panel,
body:not(.light-theme) .reward-card,
body:not(.light-theme) .lb-podium-wrap,
body:not(.light-theme) .lb-insight,
body:not(.light-theme) .lb-spotlight,
body:not(.light-theme) .lb-table-wrap,
body:not(.light-theme) .lb-table-head {
    background: linear-gradient(160deg, rgba(15, 23, 42, 0.78) 0%, rgba(8, 13, 24, 0.92) 100%) !important;
    border: 1px solid rgba(148, 163, 184, 0.2) !important;
    box-shadow: 0 14px 32px rgba(2, 6, 23, 0.35) !important;
}

body:not(.light-theme) .login-card,
body:not(.light-theme) .signup-card {
    max-width: 460px !important;
    padding: 28px !important;
    border-radius: 18px !important;
}

body:not(.light-theme) .page-title,
body:not(.light-theme) .login-title,
body:not(.light-theme) .signup-title,
body:not(.light-theme) .profile-name,
body:not(.light-theme) .page-header h1,
body:not(.light-theme) .admin-main-title,
body:not(.light-theme) .lb-title,
body:not(.light-theme) .scan-title,
body:not(.light-theme) h1 {
    background: none !important;
    -webkit-text-fill-color: #e8effa !important;
    color: #e8effa !important;
    text-shadow: none !important;
}

body:not(.light-theme) .login-subtitle,
body:not(.light-theme) .signup-subtitle,
body:not(.light-theme) .page-description,
body:not(.light-theme) .page-header p,
body:not(.light-theme) .source-desc,
body:not(.light-theme) .admin-main-desc,
body:not(.light-theme) .profile-email,
body:not(.light-theme) .profile-joined,
body:not(.light-theme) .lb-subtitle,
body:not(.light-theme) .scan-subtitle,
body:not(.light-theme) .offline-container p {
    color: var(--text-secondary) !important;
}

body:not(.light-theme) .google-btn,
body:not(.light-theme) .source-link,
body:not(.light-theme) .filter-btn,
body:not(.light-theme) .status-btn,
body:not(.light-theme) .submit-tab,
body:not(.light-theme) .tab,
body:not(.light-theme) .lb-range-btn,
body:not(.light-theme) .chart-tab,
body:not(.light-theme) .mobile-tab,
body:not(.light-theme) .sidebar-link,
body:not(.light-theme) .redeem-btn,
body:not(.light-theme) .retry-btn,
body:not(.light-theme) .select-btn {
    background: rgba(15, 23, 42, 0.68) !important;
    border: 1px solid rgba(148, 163, 184, 0.26) !important;
    color: #dbe6f7 !important;
}

body:not(.light-theme) .google-btn:hover,
body:not(.light-theme) .source-link:hover,
body:not(.light-theme) .filter-btn:hover,
body:not(.light-theme) .status-btn:hover,
body:not(.light-theme) .submit-tab:hover,
body:not(.light-theme) .tab:hover,
body:not(.light-theme) .lb-range-btn:hover,
body:not(.light-theme) .chart-tab:hover,
body:not(.light-theme) .mobile-tab:hover,
body:not(.light-theme) .sidebar-link:hover,
body:not(.light-theme) .redeem-btn:hover,
body:not(.light-theme) .retry-btn:hover,
body:not(.light-theme) .select-btn:hover {
    background: rgba(30, 41, 59, 0.86) !important;
    border-color: rgba(96, 165, 250, 0.56) !important;
    color: #eff6ff !important;
}

body:not(.light-theme) .filter-btn.active,
body:not(.light-theme) .status-btn.active,
body:not(.light-theme) .submit-tab.active,
body:not(.light-theme) .tab.active,
body:not(.light-theme) .lb-range-btn.active,
body:not(.light-theme) .chart-tab.active,
body:not(.light-theme) .mobile-tab.active,
body:not(.light-theme) .sidebar-link.active {
    background: rgba(37, 99, 235, 0.2) !important;
    border-color: rgba(96, 165, 250, 0.62) !important;
    color: #f8fbff !important;
}

body:not(.light-theme) .divider-line,
body:not(.light-theme) .section-title,
body:not(.light-theme) .sidebar-title,
body:not(.light-theme) .sidebar-label,
body:not(.light-theme) .legend-title,
body:not(.light-theme) .kpi-sub,
body:not(.light-theme) .dash-chart-subtitle,
body:not(.light-theme) .metric-label {
    color: var(--text-tertiary) !important;
    border-color: rgba(148, 163, 184, 0.18) !important;
}

body:not(.light-theme) .item-meta,
body:not(.light-theme) .item-date,
body:not(.light-theme) .item-location,
body:not(.light-theme) .item-description,
body:not(.light-theme) .card-meta,
body:not(.light-theme) .activity-meta,
body:not(.light-theme) .stat-label,
body:not(.light-theme) .tier-next,
body:not(.light-theme) .popup-item-desc,
body:not(.light-theme) .location-items,
body:not(.light-theme) .helper {
    color: var(--text-tertiary) !important;
}

body:not(.light-theme) .item-image,
body:not(.light-theme) .item-image-wrap,
body:not(.light-theme) .upload-zone,
body:not(.light-theme) .drop-zone,
body:not(.light-theme) .detail-image,
body:not(.light-theme) .card-proof,
body:not(.light-theme) .item-mini-img {
    background: rgba(15, 23, 42, 0.55) !important;
    border-color: rgba(148, 163, 184, 0.2) !important;
}

body:not(.light-theme) .main-container,
body:not(.light-theme) .map-page {
    background: linear-gradient(180deg, rgba(5, 8, 17, 0.98) 0%, rgba(4, 7, 14, 0.98) 100%) !important;
}

body:not(.light-theme) .sidebar,
body:not(.light-theme) .admin-sidebar {
    background: rgba(8, 12, 22, 0.74) !important;
    border-color: rgba(148, 163, 184, 0.18) !important;
    backdrop-filter: blur(16px) saturate(120%);
    -webkit-backdrop-filter: blur(16px) saturate(120%);
}

body:not(.light-theme) .sidebar-header,
body:not(.light-theme) .legend-section,
body:not(.light-theme) .rooms-section,
body:not(.light-theme) .sidebar-stats {
    border-color: rgba(148, 163, 184, 0.18) !important;
}

body:not(.light-theme) .room-item,
body:not(.light-theme) .item-mini-card,
body:not(.light-theme) .popup-item {
    background: rgba(15, 23, 42, 0.66) !important;
    border-color: rgba(148, 163, 184, 0.24) !important;
    color: #c9d7eb !important;
}

body:not(.light-theme) .room-item:hover,
body:not(.light-theme) .item-mini-card:hover,
body:not(.light-theme) .popup-item:hover {
    background: rgba(30, 41, 59, 0.84) !important;
    border-color: rgba(96, 165, 250, 0.48) !important;
}

body:not(.light-theme) .map-container,
body:not(.light-theme) .map-canvas-wrapper {
    background:
        radial-gradient(circle at 52% 30%, rgba(37, 99, 235, 0.2) 0%, rgba(9, 19, 50, 0.1) 34%, transparent 62%),
        linear-gradient(145deg, rgba(6, 12, 28, 0.96), rgba(4, 8, 20, 0.98)) !important;
}

body:not(.light-theme) .floor-tab,
body:not(.light-theme) .map-control-btn,
body:not(.light-theme) .location-btn {
    background: rgba(15, 23, 42, 0.72) !important;
    border-color: rgba(148, 163, 184, 0.26) !important;
    color: #d2def0 !important;
}

body:not(.light-theme) .floor-tab.active,
body:not(.light-theme) .location-btn.active {
    background: rgba(37, 99, 235, 0.2) !important;
    border-color: rgba(96, 165, 250, 0.6) !important;
    color: #f3f8ff !important;
}

body:not(.light-theme) .admin-main {
    max-width: none !important;
}

body:not(.light-theme) .users-table,
body:not(.light-theme) .users-table th,
body:not(.light-theme) .users-table td,
body:not(.light-theme) .activity-item,
body:not(.light-theme) .metric-strip,
body:not(.light-theme) .redemption-row {
    border-color: rgba(148, 163, 184, 0.18) !important;
    color: #d5e2f4 !important;
}

body:not(.light-theme) .hero,
body:not(.light-theme) .lb-section {
    background: transparent !important;
}

body:not(.light-theme) .lb-kicker,
body:not(.light-theme) .hero-kicker {
    background: rgba(37, 99, 235, 0.18) !important;
    border-color: rgba(96, 165, 250, 0.44) !important;
    color: #bfdbfe !important;
}

body:not(.light-theme) .lb-row {
    background: rgba(15, 23, 42, 0.66) !important;
    border-color: rgba(148, 163, 184, 0.18) !important;
}

body:not(.light-theme) .lb-row:hover {
    background: rgba(30, 41, 59, 0.86) !important;
}

@media (max-width: 820px) {
    nav .nav-center {
        display: none !important;
    }

    nav {
        padding: 0 14px !important;
    }

    .main-content,
    .container,
    .profile-container,
    .admin-main,
    .hero,
    .dashboard,
    .filters,
    .rewards-section {
        padding-left: 16px !important;
        padding-right: 16px !important;
    }

    .login-card,
    .signup-card,
    .scan-container,
    .form-card,
    .source-card,
    .item-card,
    .chart-card,
    .review-card,
    .reward-card {
        border-radius: 14px !important;
    }
}
